# Rust-specific hooks
# These hooks are only for Rust projects (projects with Cargo.toml)

pre-commit:
  commands:
    # Using glob instead of file_types because text/x-rust is not
    # supported by the mimetype library used by lefthook.
    # See: https://github.com/gabriel-vasile/mimetype/blob/master/supported_mimes.md
    cargo-fmt:
      glob: '*.rs'
      run: cargo fmt -- {staged_files} && git add {staged_files}

    cargo-clippy:
      glob: '*.rs'
      run: cargo clippy -- -D warnings
